import React, {useState, useEffect} from 'react'
import { isContext } from 'vm'

interface DefinitionOfTownType  {
    "name": string,
    "coords": Array<number>
}

const DefinitionOfTown:Array<DefinitionOfTownType> = [
    {
		"name": "shimokasai",
		"coords": [66, 290, 75, 332, 67, 371, 87, 372, 104, 408, 108, 475, 99, 512, 119, 529, 109, 553, 146, 562, 165, 631, 179, 625, 199, 652, 206, 642, 233, 632, 261, 662, 270, 656,268, 647, 321, 625, 331, 624, 354, 589, 379, 531, 395, 526, 365, 513, 370, 495, 397, 478, 346, 436, 320, 393, 287, 413, 295, 426, 267, 441, 260, 458, 234, 422, 253, 413, 244, 404, 237, 368, 143, 376, 154, 400, 143, 381, 123, 381, 116, 366, 124, 344, 98, 323, 86, 295, 65, 290]
	},
	{
		"name": "kokubunji_hokubu",
		"coords": [208, 640, 184, 685, 196, 693, 200, 705, 186, 707, 172, 698, 164, 713, 150, 693, 136, 694, 137, 716, 78, 727, 53, 765, 63, 782, 72, 785, 89, 819, 127, 864, 125, 874, 153, 885, 156, 904, 173, 890, 239, 882, 240, 889, 295, 894, 346, 791, 305, 723, 310, 709, 293, 690, 280, 688, 234, 631, 208, 642]
	},
	{
		"name": "kokubunji_nambu",
		"coords": [125, 877, 121, 895, 129, 896, 123, 903, 129, 910, 138, 913, 140, 940, 131, 953, 132, 974, 147, 1001, 144, 1041, 154, 1052, 168, 1051, 174, 1057, 178, 1047, 194, 1061, 215, 1061, 257, 1078, 280, 1091, 283, 1116, 291, 1110, 301, 1109, 295, 1107, 295, 1086, 308, 1089, 328, 1090, 350, 1081, 360, 1079, 376, 1109, 384, 1103, 380, 1089, 385, 1071, 347, 1013, 353, 983, 319, 952, 336, 911, 312, 876, 293, 890, 239, 890, 239, 881, 225, 880, 170, 891, 153, 885, 150, 890, 152, 883, 128, 877]
	},
	{
		"name": "kawaoka",
		"coords": [355, 985, 344, 1012, 385, 1074, 407, 1098, 416, 1099, 416, 1105, 411, 1110, 409, 1130, 418, 1139, 429, 1139, 443, 1153, 456, 1150, 485, 1174, 496, 1124, 532, 1128, 541, 1123, 528, 1090, 531, 1008, 467, 1010, 459, 1026, 449, 1015, 405, 1020, 408, 1028, 408, 1037, 401, 1036, 399, 1028, 381, 1028, 374, 1017, 374, 1008, 376, 1006, 367, 990, 358, 986]
	},
	{
		"name": "konan",
		"coords": [399, 1125, 360, 1227, 376, 1238, 391, 1277, 404, 1271, 408, 1291, 470, 1383, 490, 1388, 504, 1420, 511, 1420, 512, 1424, 531, 1424, 539, 1416, 583, 1408, 604, 1371, 620, 1369, 623, 1342, 570, 1274, 568, 1226, 556, 1198, 556, 1160, 541, 1121, 535, 1125, 495, 1121, 485, 1172, 456, 1145, 443, 1148, 428, 1139, 420, 1140, 403, 1128]
	},
	{
		"name": "kawahigashi",
		"coords": [549, 1142, 555, 1161, 559, 1201, 567, 1222, 570, 1274, 620, 1341, 619, 1366, 603, 1370, 585, 1406, 541, 1417, 531, 1424, 513, 1424, 517, 1457, 529, 1467, 524, 1485, 533, 1515, 527, 1523, 534, 1555, 546, 1560, 549, 1554, 571, 1552, 573, 1534, 570, 1522, 572, 1477, 591, 1473, 606, 1480, 610, 1444, 599, 1432, 614, 1423, 623, 1425, 627, 1435, 642, 1434, 666, 1455, 672, 1467, 702, 1486, 722, 1482, 735, 1490, 755, 1486, 770, 1504, 789, 1501, 796, 1496, 812, 1514, 819, 1511, 828, 1511, 858, 1501, 883, 1460, 861, 1452, 856, 1412, 815, 1398, 801, 1407, 747, 1392, 752, 1347, 745, 1345, 731, 1254, 740, 1248, 740, 1231, 719, 1213, 707, 1226, 672, 1202, 662, 1220, 648, 1204, 622, 1202, 594, 1153, 605, 1144, 549, 1141]
	},
	{
		"name": "shionoe",
		"coords": [571, 1474, 569, 1520, 575, 1536, 569, 1556, 581, 1573, 572, 1585, 580, 1598, 566, 1618, 566, 1627, 579, 1652, 602, 1679, 580, 1703, 580, 1731, 545, 1741, 572, 1767, 566, 1789, 573, 1798, 579, 1864, 605, 1864, 620, 1878, 639, 1927, 634, 1940, 649, 1941, 688, 1970, 708, 2000, 723, 1994, 756, 2014, 767, 2038, 799, 2025, 815, 2028, 826, 2002, 843, 2000, 872, 1974, 926, 2010, 983, 2010, 997, 1998, 1050, 1990, 1067, 1976, 1082, 1983, 1106, 1960, 1120, 1959, 1135, 1917, 1170, 1893, 1159, 1867, 1166, 1846, 1157, 1837, 1153, 1789, 1141, 1781, 1125, 1791, 1059, 1652, 1024, 1624, 1037, 1607, 1013, 1588, 1004, 1568, 957, 1597, 880, 1472, 871, 1472, 858, 1498, 812, 1513, 798, 1496, 770, 1502, 757, 1484, 738, 1492, 719, 1484, 691, 1481, 672, 1470, 643, 1435, 632, 1435, 614, 1421, 599, 1432, 607, 1443, 610, 1480, 574, 1477]
	},
	{
		"name": "enza",
		"coords": [353, 986, 369, 991, 376, 1002, 372, 1021, 378, 1029, 398, 1027, 406, 1041, 412, 1031, 406, 1019, 445, 1015, 458, 1029, 467, 1010, 492, 1013, 501, 1007, 534, 1011, 543, 970, 543, 935, 527, 916, 517, 892, 471, 886, 470, 894, 460, 894, 457, 906, 441, 901, 441, 892, 430, 888, 426, 914, 434, 915, 433, 935, 439, 937, 436, 953, 432, 952, 433, 944, 427, 942, 425, 948, 421, 948, 421, 941, 409, 940, 397, 949, 388, 946, 382, 958, 361, 969, 355, 985]
	},
	{
		"name": "danshi",
		"coords": [346, 793, 310, 874, 336, 914, 316, 954, 355, 986, 362, 968, 384, 959, 387, 945, 398, 950, 410, 939, 421, 940, 419, 952, 423, 953, 427, 942, 433, 942, 433, 953, 436, 953, 439, 938, 434, 937, 433, 917, 427, 915, 430, 889, 439, 890, 440, 905, 457, 905, 462, 897, 469, 897, 471, 886, 496, 889, 498, 876, 478, 874, 479, 837, 491, 837, 482, 819, 489, 780, 472, 785, 474, 778, 467, 773, 444, 783, 401, 766, 372, 788, 344, 793]
	},
	{
		"name": "kinashi",
		"coords": [268, 647, 272, 654, 263, 659, 278, 686, 292, 690, 312, 710, 306, 723, 344, 794, 373, 788, 373, 783, 402, 765, 428, 711, 438, 711, 464, 653, 425, 642, 427, 609, 418, 605, 407, 588, 354, 594, 332, 622, 322, 622, 314, 630, 269, 647]
	},
	{
		"name": "kozai",
		"coords": [410, 457, 403, 490, 421, 502, 417, 507, 392, 485, 371, 496, 369, 518, 386, 521, 393, 528, 382, 528, 355, 592, 409, 587, 418, 608, 430, 611, 423, 643, 464, 656, 466, 649, 474, 649, 493, 625, 487, 623, 509, 582, 499, 579, 496, 563, 473, 560, 484, 489, 463, 486, 458, 509, 449, 517, 456, 524, 452, 540, 445, 539, 448, 525, 443, 525, 440, 514, 424, 513, 426, 505, 435, 507, 437, 499, 444, 496, 448, 483, 412, 458]
	},
	{
		"name": "tsuruuti",
		"coords": [495, 497, 478, 560, 497, 560, 500, 581, 511, 580, 487, 623, 494, 625, 476, 652, 468, 650, 436, 710, 428, 710, 399, 765, 441, 783, 466, 770, 474, 776, 474, 785, 487, 778, 490, 769, 516, 765, 533, 744, 540, 726, 525, 719, 525, 711, 528, 703, 540, 696, 552, 695, 571, 688, 559, 640, 570, 592, 553, 579, 542, 578, 562, 536, 560, 517, 547, 514, 547, 527, 496, 517, 499, 512, 528, 512, 531, 502, 495, 497]
	},
	{
		"name": "tsuruo",
		"coords": [490, 765, 482, 816, 492, 836, 507, 827, 589, 849, 595, 836, 633, 839, 647, 807, 663, 807, 668, 792, 669, 771, 677, 771, 684, 761, 659, 756, 657, 748, 674, 739, 670, 712, 634, 722, 623, 691, 597, 680, 598, 688, 566, 686, 551, 695, 541, 695, 527, 702, 524, 709, 526, 721, 539, 725, 535, 746, 514, 769]
	},
	{
		"name": "ichinomiya",
		"coords": [479, 836, 478, 872, 499, 875, 497, 887, 521, 892, 529, 920, 542, 934, 545, 974, 538, 1011, 573, 1011, 579, 1040, 596, 1042, 602, 1025, 610, 1026, 608, 1034, 614, 1032, 617, 1015, 612, 1013, 613, 999, 643, 969, 654, 919, 644, 902, 651, 862, 632, 840, 597, 837, 592, 848, 507, 829, 490, 837, 479, 836]
	},
	{
		"name": "ohno",
		"coords": [530, 1011, 525, 1080, 540, 1121, 549, 1142, 602, 1146, 611, 1141, 611, 1129, 628, 1103, 614, 1035, 607, 1033, 609, 1024, 602, 1023, 594, 1041, 580, 1039, 570, 1008, 532, 1012]
	},
	{
		"name": "asano",
		"coords": [616, 1044, 628, 1106, 611, 1129, 612, 1140, 593, 1156, 620, 1203, 646, 1205, 661, 1221, 673, 1203, 706, 1228, 720, 1213, 729, 1197, 730, 1159, 742, 1151, 730, 1148, 724, 1082, 732, 1056, 718, 1069, 713, 1067, 698, 1096, 666, 1094, 673, 1024, 644, 1043]
	},
	{
		"name": "bussyozan",
		"coords": [649, 932, 644, 968, 614, 998, 611, 1012, 616, 1014, 614, 1033, 612, 1044, 646, 1043, 675, 1022, 664, 1095, 698, 1099, 713, 1067, 717, 1067, 737, 1048, 733, 1027, 752, 1008, 750, 1006, 720, 1001, 716, 975, 698, 973, 698, 956, 685, 951, 681, 959, 668, 959, 668, 958, 675, 956, 678, 951, 672, 948, 676, 928, 665, 930, 663, 934]
	},
	{
		"name": "mitani",
		"coords": [755, 966, 750, 1007, 752, 1010, 730, 1026, 737, 1049, 733, 1055, 725, 1081, 728, 1149, 742, 1153, 730, 1158, 728, 1200, 720, 1212, 734, 1224, 780, 1201, 807, 1184, 810, 1165, 831, 1165, 851, 1089, 844, 1082, 850, 1069, 864, 1064, 878, 1065, 879, 1056, 858, 1054, 852, 1044, 867, 985, 860, 984, 860, 972, 844, 961, 838, 965, 827, 959, 824, 948, 797, 942]
	},
	{
		"name": "kameoi",
		"coords": [566, 536, 546, 579, 572, 591, 558, 641, 570, 686, 598, 686, 598, 682, 608, 665, 652, 684, 669, 662, 686, 657, 691, 639, 699, 639, 700, 624, 693, 625, 697, 597, 684, 593, 681, 604, 667, 603, 666, 589, 600, 578, 594, 570, 593, 541]
	},
	{
		"name": "nisshin",
		"coords": [560, 532, 617, 524, 613, 539, 618, 544, 616, 548, 608, 544, 601, 544, 601, 554, 643, 548, 640, 541, 627, 545, 622, 532, 645, 526, 646, 561, 596, 572, 592, 541, 567, 538, 547, 581, 542, 582]
	},
	{
		"name": "nibancho",
		"coords": [597, 570, 601, 578, 665, 588, 692, 552, 683, 529, 701, 496, 679, 524, 643, 530, 645, 559]
	},
	{
		"name": "yonbancho",
		"coords": [666, 588, 666, 600, 679, 600, 682, 592, 698, 597, 712, 597, 713, 558, 723, 556, 730, 536, 735, 529, 696, 529, 689, 554]
	},
	{
		"name": "ritsurin",
		"coords": [605, 666, 598, 681, 623, 689, 634, 722, 671, 711, 674, 739, 688, 746, 706, 746, 739, 689, 745, 664, 737, 660, 714, 657, 724, 636, 706, 640, 706, 619, 699, 622, 699, 636, 690, 638, 688, 656, 669, 659, 658, 684, 606, 665]
	},
	{
		"name": "ueta",
		"coords": [734, 1221, 741, 1245, 733, 1252, 744, 1345, 752, 1350, 746, 1396, 803, 1408, 813, 1400, 857, 1409, 863, 1451, 883, 1460, 880, 1477, 889, 1486, 915, 1486, 931, 1469, 943, 1469, 951, 1437, 939, 1422, 954, 1409, 956, 1390, 965, 1390, 967, 1363, 976, 1364, 978, 1340, 962, 1340, 960, 1347, 941, 1346, 940, 1332, 930, 1334, 916, 1329, 911, 1316, 919, 1285, 915, 1277, 916, 1268, 927, 1260, 932, 1216, 919, 1221, 909, 1213, 918, 1201, 934, 1203, 946, 1173, 933, 1123, 913, 1102, 879, 1102, 849, 1086, 833, 1163, 812, 1164, 806, 1186]
	},
	{
		"name": "higashiueta",
		"coords": [890, 1487, 959, 1599, 1001, 1569, 1017, 1547, 1012, 1494, 992, 1478, 988, 1438, 999, 1424, 990, 1402, 1026, 1343, 1023, 1336, 1034, 1321, 1031, 1284, 1050, 1257, 1027, 1219, 1036, 1207, 1031, 1201, 1019, 1205, 991, 1187, 996, 1156, 960, 1158, 944, 1176, 938, 1202, 920, 1200, 908, 1212, 934, 1221, 925, 1261, 914, 1268, 916, 1278, 917, 1285, 909, 1313, 912, 1326, 917, 1332, 925, 1336, 942, 1331, 940, 1342, 952, 1351, 961, 1340, 972, 1336, 981, 1347, 978, 1363, 970, 1365, 964, 1382, 965, 1389, 955, 1388, 953, 1399, 955, 1410, 942, 1418, 950, 1435, 943, 1463, 929, 1471, 915, 1486]
	},
	{
		"name": "tsukiji",
		"coords": [698, 624, 710, 618, 708, 629, 739, 630, 743, 617, 761, 618, 768, 588, 713, 582, 712, 596, 696, 597]
	},
	{
		"name": "hanazono",
		"coords": [708, 628, 706, 640, 721, 635, 713, 658, 745, 662, 738, 687, 799, 704, 811, 651, 798, 628, 763, 621, 745, 618, 736, 629]
	},
	{
		"name": "shinshioyamachi",
		"coords": [713, 583, 768, 591, 771, 580, 777, 579, 779, 563, 842, 567, 842, 560, 865, 544, 866, 486, 856, 485, 853, 469, 837, 469, 838, 470, 838, 529, 813, 533, 807, 565, 815, 467, 778, 464, 775, 499, 737, 501, 740, 513, 769, 511, 769, 549, 754, 559, 764, 536, 751, 535, 739, 561, 736, 561, 747, 536, 728, 533, 724, 560, 716, 559]
	},
	{
		"name": "ohta",
		"coords": [739, 689, 705, 743, 672, 739, 658, 748, 658, 755, 682, 760, 669, 774, 669, 791, 749, 811, 745, 817, 757, 819, 755, 824, 776, 829, 783, 810, 771, 807, 771, 799, 786, 801, 789, 788, 783, 787, 798, 699]
	},
	{
		"name": "ohtaminami",
		"coords": [665, 790, 661, 807, 645, 808, 631, 840, 652, 862, 643, 902, 650, 917, 648, 931, 660, 935, 668, 930, 674, 927, 676, 919, 669, 918, 669, 892, 697, 881, 708, 843, 738, 832, 745, 812]
	},
	{
		"name": "tahi",
		"coords": [668, 891, 696, 881, 704, 848, 742, 834, 745, 817, 755, 819, 755, 826, 779, 827, 770, 871, 759, 875, 769, 879, 761, 937, 771, 937, 774, 953, 755, 967, 749, 1004, 724, 998, 716, 978, 696, 972, 699, 954, 683, 953, 683, 959, 667, 961, 667, 957, 676, 957, 677, 950, 671, 948, 678, 921, 670, 917, 669, 892,]
	},
	{
		"name": "hayashi",
		"coords": [788, 805, 777, 829, 770, 871, 760, 875, 766, 878, 763, 938, 773, 937, 774, 950, 795, 942, 825, 947, 823, 956, 831, 959, 869, 911, 897, 920, 913, 910, 925, 853, 898, 847, 892, 815, 815, 801, 805, 810]
	},
	{
		"name": "kawashima",
		"coords": [869, 911, 831, 958, 839, 965, 846, 961, 860, 971, 858, 984, 867, 984, 851, 1044, 860, 1047, 858, 1056, 878, 1056, 880, 1056, 880, 1064, 864, 1063, 852, 1067, 847, 1083, 850, 1089, 857, 1088, 883, 1104, 916, 1104, 935, 1127, 935, 1144, 946, 1171, 954, 1168, 970, 1155, 958, 1131, 966, 1127, 964, 1124, 979, 1111, 979, 1096, 970, 1079, 984, 1008, 984, 994, 976, 993, 972, 999, 948, 993, 947, 988, 929, 985, 930, 980, 948, 979, 954, 943, 906, 934, 904, 945, 895, 920, 868, 915]
	},
	{
		"name": "kawazoe",
		"coords": [881, 712, 864, 810, 892, 816, 899, 849, 925, 852, 912, 908, 896, 921, 904, 944, 906, 934, 953, 942, 978, 834, 993, 830, 995, 809, 987, 805, 985, 794, 962, 782, 958, 755, 931, 753, 929, 768, 905, 741, 902, 711]
	},
	{
		"name": "sogo",
		"coords": [966, 890, 948, 977, 932, 980, 929, 985, 945, 986, 947, 995, 973, 999, 974, 996, 986, 996, 972, 1082, 972, 1088, 977, 1098, 977, 1111, 958, 1133, 971, 1157, 996, 1156, 988, 1187, 996, 1187, 1019, 1206, 1032, 1201, 1032, 1180, 1027, 1178, 1022, 1171, 1027, 1163, 1031, 1160, 1039, 1108, 1064, 994, 1027, 985, 1028, 958, 994, 951, 992, 941, 1004, 933, 985, 888, 979, 891, 967, 891]
	},
	{
		"name": "maeda",
		"coords": [994, 809, 992, 833, 978, 833, 967, 890, 980, 893, 985, 889, 1004, 933, 992, 941, 992, 951, 1030, 958, 1027, 984, 1063, 993, 1074, 924, 1093, 912, 1082, 898, 1088, 882, 1099, 878, 1114, 866, 1103, 866, 1113, 853, 1114, 836, 1100, 794, 1115, 786, 1115, 777, 1102, 768, 1091, 783, 999, 791]
	},
	{
		"name": "furutakamatsu",
		"coords": [900, 600, 897, 658, 901, 713, 905, 739, 927, 765, 929, 752, 959, 753, 962, 784, 988, 795, 987, 806, 993, 808, 1001, 793, 1092, 781, 1099, 770, 1115, 777, 1126, 769, 1133, 747, 1138, 736, 1134, 712, 1125, 702, 1128, 667, 1105, 650, 1085, 581, 1077, 577, 1077, 565, 1053, 575, 1053, 592, 1002, 604, 1002, 626, 951, 634, 946, 608]
	},
	{
		"name": "yashima",
		"coords": [903, 587, 944, 597, 946, 607, 952, 637, 1002, 628, 1002, 604, 1055, 592, 1052, 577, 1076, 569, 1079, 547, 1073, 507, 1078, 503, 1074, 484, 1056, 487, 1038, 461, 1045, 452, 978, 355, 951, 343, 943, 320, 927, 321, 934, 340, 924, 398, 929, 416, 927, 454, 931, 458, 931, 465, 922, 464, 896, 528, 910, 546, 897, 546, 895, 537, 877, 544]
	},
	{
		"name": "aji",
		"coords": [1080, 472, 1087, 472, 1091, 475, 1107, 475, 1102, 462, 1115, 459, 1118, 447, 1137, 440, 1147, 450, 1196, 482, 1199, 497, 1212, 499, 1223, 512, 1236, 500, 1249, 502, 1254, 507, 1281, 509, 1275, 492, 1279, 473, 1267, 453, 1277, 430, 1290, 415, 1286, 398, 1295, 385, 1306, 385, 1304, 336, 1280, 291, 1191, 242, 1160, 227, 1153, 234, 1140, 233, 1106, 258, 1096, 245, 1084, 242, 1076, 253, 1077, 266, 1094, 293, 1105, 286, 1121, 286, 1129, 313, 1108, 305, 1097, 362, 1082, 373, 1063, 368]
	},
	{
		"name": "mure",
		"coords": [1082, 480, 1079, 548, 1078, 567, 1077, 579, 1086, 581, 1106, 655, 1129, 671, 1127, 708, 1139, 736, 1132, 755, 1150, 772, 1172, 776, 1189, 766, 1229, 773, 1257, 789, 1297, 728, 1310, 721, 1317, 694, 1303, 681, 1279, 651, 1281, 643, 1257, 617, 1264, 613, 1260, 606, 1263, 591, 1252, 591, 1252, 588, 1259, 577, 1269, 583, 1277, 560, 1270, 551, 1276, 539, 1284, 537, 1277, 518, 1283, 510, 1255, 506, 1251, 499, 1236, 502, 1227, 511, 1217, 508, 1213, 497, 1201, 495, 1192, 475, 1148, 453, 1145, 440, 1134, 440, 1121, 445, 1121, 454, 1114, 458, 1102, 461, 1101, 469, 1106, 476]
	},
	{
		"name": "kita",
		"coords": [841, 567, 839, 612, 823, 607, 819, 640, 814, 642, 809, 656, 782, 786, 788, 789, 785, 800, 770, 799, 770, 810, 782, 811, 789, 807, 804, 809, 815, 801, 861, 809, 880, 714, 900, 714, 899, 658, 893, 641, 893, 602, 864, 559]
	},
	{
		"name": "megi",
		"coords": [710, 178, 725, 173, 740, 184, 733, 214, 743, 244, 720, 295, 701, 294, 671, 346, 646, 357, 634, 332, 640, 314, 678, 266, 679, 240, 684, 243, 688, 227, 695, 211, 705, 205]
	},
	{
		"name": "ogi",
		"coords": [725, 118, 733, 123, 740, 110, 779, 99, 788, 56, 773, 33, 773, 22, 756, 19, 739, 39, 720, 73, 722, 91, 729, 95]
	},

]

interface DrawMapProps {
    town: DefinitionOfTownType,
    magnification: number
    context: any
}

const DrawMap:React.VFC<DrawMapProps> = (props:DrawMapProps) => {
    const {town, magnification, context} = props
    const defaultMag = 1/3
    let coords:any = []
    coords.push(context?.moveTo(town.coords[0]*defaultMag*magnification, town.coords[1]*defaultMag*magnification))
    for ( let i=2; i < town.coords.length; i += 2 ) {
        coords.push(context?.lineTo(town.coords[i]*defaultMag*magnification, town.coords[i+1]*defaultMag*magnification))
    }
    coords.push(context.closePath())
    coords.push(context.stroke())
    return (
        <>
            {coords}
        </>
    )
}

const TakamatsuMap = ({magnification=1}: {magnification?: number}) => {
    const [context, setContext] = useState<any>()
    const [mapList, setMapList] = useState<Array<any>>([])
    const DefaultWidth = 500, DefaultHeight = 700
    useEffect(() => {
        const canvas:HTMLCanvasElement = document.getElementById("takamatsu-map") as HTMLCanvasElement
        console.log(canvas)
        const canvasContext = canvas.getContext("2d")
        setContext(canvasContext)
    }, [])

    console.log(magnification)
    useEffect(()=>{
        if(context)
        {
            let mapList:Array<any> = []
            DefinitionOfTown.map((town) => {
                mapList.push(<DrawMap town={town} key={town.name} context={context} magnification={magnification}></DrawMap>)
            })
            setMapList(mapList)
        }
    },[context])

    return (
        <div>
            <canvas id="takamatsu-map" width={DefaultWidth*magnification} height={DefaultHeight*magnification}>
                {mapList}
            </canvas>
        </div>
    )
}


export default TakamatsuMap
